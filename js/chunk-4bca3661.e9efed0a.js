(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4bca3661"],{"21bf":function(t,e,n){},"22cb":function(t,e,n){t.exports=n.p+"img/recommend_bg.794b6628.jpg"},"3fa9":function(t,e,n){},7329:function(t,e,n){"use strict";n("bc0d")},"857a":function(t,e,n){var o=n("1d80"),r=/"/g;t.exports=function(t,e,n,c){var i=String(o(t)),a="<"+e;return""!==n&&(a+=" "+n+'="'+String(c).replace(r,"&quot;")+'"'),a+">"+i+"</"+e+">"}},9911:function(t,e,n){"use strict";var o=n("23e7"),r=n("857a"),c=n("af03");o({target:"String",proto:!0,forced:c("link")},{link:function(t){return r(this,"a","href",t)}})},af03:function(t,e,n){var o=n("d039");t.exports=function(t){return o((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},b3d7:function(t,e,n){"use strict";n.r(e);var o=n("7a23"),r=Object(o["I"])("data-v-0fc2df34");Object(o["u"])("data-v-0fc2df34");var c={id:"home"},i=Object(o["h"])("购物街");Object(o["s"])();var a=r((function(t,e,n,a,s,l){var u=Object(o["z"])("navigation"),b=Object(o["z"])("tab-control"),d=Object(o["z"])("slide-show"),f=Object(o["z"])("reco-view"),p=Object(o["z"])("feature-view"),m=Object(o["z"])("goods-list"),h=Object(o["z"])("scroll"),O=Object(o["z"])("back-top");return Object(o["r"])(),Object(o["e"])("div",c,[Object(o["i"])(u,{class:"home_nav"},{center:r((function(){return[i]})),_:1}),Object(o["H"])(Object(o["i"])(b,{class:"tab_control",titles:["流行","新款","精选"],onTabClick:l.tabClick,ref:"tabControl_fixed"},null,8,["onTabClick"]),[[o["E"],s.isTabShow]]),Object(o["i"])(h,{class:"content",ref:"scroll","probe-type":3,"pull-up-load":!0,onScroll:l.contentScroll,onPullingUp:l.loadMore},{default:r((function(){return[Object(o["i"])(d,{banners:s.banners,onSwiperImageLoad:l.swiperImageLoad},null,8,["banners","onSwiperImageLoad"]),Object(o["i"])(f,{recommends:s.recommends},null,8,["recommends"]),Object(o["i"])(p),Object(o["i"])(b,{class:"tab_control",titles:["流行","新款","精选"],onTabClick:l.tabClick,ref:"tabControl"},null,8,["onTabClick"]),Object(o["i"])(m,{goods:l.showGoods},null,8,["goods"])]})),_:1},8,["onScroll","onPullingUp"]),Object(o["H"])(Object(o["i"])(O,{onClick:l.bsClick},null,8,["onClick"]),[[o["E"],s.isBackTopShow]])])})),s=n("6b75");function l(t){if(Array.isArray(t))return Object(s["a"])(t)}n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function u(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}var b=n("06c5");function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(t){return l(t)||u(t)||Object(b["a"])(t)||d()}n("b64b"),n("9911");var p=Object(o["I"])("data-v-8ee70896"),m=p((function(t,e,n,r,c,i){var a=Object(o["z"])("swiper-item"),s=Object(o["z"])("swiper");return Object(o["r"])(),Object(o["e"])(s,null,{default:p((function(){return[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["x"])(n.banners,(function(t){return Object(o["r"])(),Object(o["e"])(a,{key:t.id},{default:p((function(){return[Object(o["i"])("a",{href:t.link},[Object(o["i"])("img",{style:{width:"100%"},src:t.image,alt:"",onLoad:e[1]||(e[1]=function(){return i.imageLoad&&i.imageLoad.apply(i,arguments)})},null,40,["src"])],8,["href"])]})),_:2},1024)})),128))]})),_:1})})),h=n("dc2c"),O={name:"SlideShow",props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{isLoad:!1}},components:{Swiper:h["a"],SwiperItem:h["b"]},methods:{imageLoad:function(){this.isLoad||(this.$emit("swiperImageLoad"),this.isLoad=!0)}}};O.render=m,O.__scopeId="data-v-8ee70896";var j=O,g={class:"recommends"};function v(t,e,n,r,c,i){return Object(o["r"])(),Object(o["e"])("div",g,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["x"])(n.recommends,(function(t){return Object(o["r"])(),Object(o["e"])("div",{class:"reco_item",key:t.id},[Object(o["i"])("a",{href:t.link},[Object(o["i"])("img",{src:t.image,alt:""},null,8,["src"]),Object(o["i"])("div",null,Object(o["C"])(t.title),1)],8,["href"])])})),128))])}var w={name:"RecomView",props:{recommends:{type:Array,default:function(){return[]}}},components:{}};n("7329");w.render=v;var k=w,y=n("22cb"),C=n.n(y),S={class:"feature"},T=Object(o["i"])("a",{href:"http://www.baidu.com"},[Object(o["i"])("img",{src:C.a,alt:""})],-1);function I(t,e,n,r,c,i){return Object(o["r"])(),Object(o["e"])("div",S,[T])}var _={name:"Feature",props:{},components:{}};n("f0e4");_.render=I;var x=_,L=n("8b57"),$=n("5aa2"),z={class:"tab_control"};function H(t,e,n,r,c,i){return Object(o["r"])(),Object(o["e"])("div",z,[(Object(o["r"])(!0),Object(o["e"])(o["a"],null,Object(o["x"])(n.titles,(function(t,e){return Object(o["r"])(),Object(o["e"])("div",{class:["tab_control_item",{active:e===c.currentIndex}],onClick:function(t){return i.itemClick(e)},key:t.id},[Object(o["i"])("span",null,Object(o["C"])(t),1)],10,["onClick"])})),128))])}var G={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("tabClick",t)}}};n("c159");G.render=H;var A=G,B=n("6d71"),M=n("fdd6"),Y=n("1bab");function E(){return Object(Y["a"])({url:"/home/multidata"})}function P(t,e){return Object(Y["a"])({url:"/home/data",params:{type:t,page:e}})}var U={name:"Home",data:function(){return{banners:[],recommends:[],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currentIndex:0,currentType:"pop",scroll:null,isBackTopShow:!1,tabOffsetTop:0,isTabShow:!1,saveY:0}},components:{SlideShow:j,RecoView:k,FeatureView:x,Navigation:L["a"],Scroll:$["a"],TabControl:A,GoodsList:B["a"],BackTop:M["a"]},created:function(){this.getHomeMultidata(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},unmounted:function(){},activated:function(){this.$refs.scroll.scrollTo(0,this.saveY,0),this.$refs.scroll.refresh()},deactivated:function(){this.saveY=this.$refs.scroll.getScrollY()},methods:{getHomeMultidata:function(){var t=this;E().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},getHomeGoods:function(t){var e=this,n=this.goods[t].page+1;P(t,n).then((function(n){var o;(o=e.goods[t].list).push.apply(o,f(n.data.list)),e.goods[t].page+=1,e.$refs.scroll.finishPullUp()}))},tabClick:function(t){this.currentType=Object.keys(this.goods)[t],this.$refs.tabControl_fixed.currentIndex=t,this.$refs.tabControl.currentIndex=t},bsClick:function(){this.$refs.scroll.scrollTo(0,0,500)},contentScroll:function(t){this.isBackTopShow=-t.y>1e3,this.isTabShow=-t.y>this.tabOffsetTop},loadMore:function(){this.getHomeGoods(this.currentType),this.$refs.scroll.scroll.refresh()},swiperImageLoad:function(){this.tabOffsetTop=this.$refs.tabControl.$el.offsetTop}},computed:{showGoods:function(){return this.goods[this.currentType].list}},watch:function(){}};n("b64e");U.render=a,U.__scopeId="data-v-0fc2df34";e["default"]=U},b64e:function(t,e,n){"use strict";n("21bf")},bc0d:function(t,e,n){},c159:function(t,e,n){"use strict";n("fa4d")},f0e4:function(t,e,n){"use strict";n("3fa9")},fa4d:function(t,e,n){}}]);
//# sourceMappingURL=chunk-4bca3661.e9efed0a.js.map